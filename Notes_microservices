How does multiple spring boots communicate with each other?
Synchronise style
- REST endpoint with HTTP/HTTPS
  - but whoever sent the request has to hang there
  - when you see for processors, for example Intel Xeon, 288 p-core, 128 e-core, 
    let's say we can have 10 threads(but 2threads/core is more practical) on each core, it's only able to handle 4k users at one time
  - so we want to avoid syncronise in web-app
Asynchronous style
- message queue
- problem: if downstream is down, upstream wouldn't know(stuck in await) -> implement actuator, but what if there's tens of thousands of them?
  -> service discovery
- monitor

* if ALL of your servers are down, you're fucked, but at least tell the user tell them 1. page is under maintenance; 
2. send a message said order received/confirmed, and dump all orders into database first -> reservoir solution(for some business)

stateless idenpotent is having more advantage -> if they're down, you can swap all instance and reboot them
but when it's stateful, you loss all the states

* circuit breaker, normally it's just comming in and out as normal. -> when X% of request is down, circuit breaker will open and switch to maintenance page/reservoir
* yml file (configuration) not suppose to go with jar file-> we need a configuration server

Microservice architecture:
API gateways
service discovery
circuit breaker
monitoring
configuration server
and multiple modules

before micro-service, it's called monolithic -> just have a giant project with many modules
* micro-service rely on http -> reply on I/O -> way faster




Spring cloud:
                   ┌─────────────────────────┐
                   │    API Gateway (Edge)   │
                   └───────────▲─────────────┘
                               │
                    ┌──────────┼──────────┐
                    ▼          ▼          ▼
            ┌──────────┐ ┌──────────┐ ┌──────────┐
            │ User Svc │ │ Order Svc│ │ Payment  │
            └──────────┘ └──────────┘ │  Svc     │
                                       └──────────┘
            ┌─────────────────────────────────────┐
            │        Discovery Server (Eureka)     │
            └─────────────────────────────────────┘

            ┌─────────────────────────────────────┐
            │       Config Server (Git backed)    │
            └─────────────────────────────────────┘

            ┌─────────────────────────────────────┐
            │    Kafka / RabbitMQ (Async Events)  │
            └─────────────────────────────────────┘

            ┌─────────────────────────────────────┐
            │  Monitoring: Prometheus + Grafana   │
            └─────────────────────────────────────┘

            ┌─────────────────────────────────────┐
            │ Logs: ELK / OpenSearch Stack        │
            └─────────────────────────────────────┘

            ┌─────────────────────────────────────┐
            │ Tracing: Zipkin / Jaeger (Sleuth)   │
            └─────────────────────────────────────┘

Kubernates:
+------------------------------------------------------------------+
|                   Kubernetes Cluster (EKS/GKE/AKS)               |
+------------------------------------------------------------------+
| Ingress Gateway (Nginx / Istio Gateway / Kong Gateway)           |
+------------------------------------------------------------------+
| Istio Service Mesh (Optional but Recommended)                    |
| - mTLS, retries, circuit breaker, telemetry                      |
| - Traffic shifting (blue/green, canary)                          |
+------------------------------------------------------------------+
           |                    |                |
  ┌────────┘         ┌─────────┘        ┌──────────┘
  ▼                  ▼                  ▼
User Pod        Order Pod          Payment Pod
ConfigMap       ConfigMap          ConfigMap
Secret          Secret             Secret
PVC             PVC                PVC

+------------------------------------------------------------------+
|   Observability: Prometheus + Grafana + Loki + Jaeger            |
+------------------------------------------------------------------+
|   Messaging: Kafka (Strimzi Operator)                            |
+------------------------------------------------------------------+
|   Storage: PostgreSQL, MongoDB, Redis via Helm charts            |
+------------------------------------------------------------------+

